<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>添加行号</title>
<meta name="GENERATOR" content="WinCHM">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style>
html,body { 
	/* Default Font */
	font-family: Arial, Helvetica, sans-serif;
	font-size: 11pt;
}
</style>

</head>

<body>
<P>1、有主键<BR>update T a set newOrder=(select row_number() over (order by amount 
desc) from T b where a.id=b.id)where exists(select 1 from T b where 
a.id=b.id)</P>
<P>2、无主键<BR>UPDATE T a SET a.neworder =(SELECT b.newOrder FROM (SELECT 
row_number() over(ORDER BY amount DESC) newOrder,ROWID browid FROM T) bWHERE 
b.browid = a.rowid) </P></body>
</html>
