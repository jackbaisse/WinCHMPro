<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>游标</title>
<meta name="GENERATOR" content="WinCHM">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style>
html,body { 
	/* Default Font */
	font-family: Arial, Helvetica, sans-serif;
	font-size: 11pt;
}
</style>

</head>

<body>
<P>alter proc Sysxsxx<BR>as<BR>begin<BR>&nbsp;<BR>&nbsp;DECLARE MyCursor CURSOR 
<BR>&nbsp;FOR SELECT USERID FROM DBGocent..USERS<BR>--打开一个游标 <BR>OPEN 
MyCursor<BR>--循环一个游标<BR>DECLARE @BookName nvarchar(36) </P>
<P>&nbsp;FETCH NEXT FROM&nbsp; MyCursor INTO @BookName <BR>WHILE @@FETCH_STATUS 
=0<BR>&nbsp;BEGIN<BR>&nbsp;set @BookName=LOWER(NEWID())<BR>&nbsp; <BR>&nbsp; 
PRINT @BookName</P>
<P>&nbsp; FETCH NEXT FROM&nbsp; MyCursor INTO @BookName<BR>&nbsp;END </P>
<P>--关闭游标<BR>CLOSE MyCursor<BR>--释放资源<BR>DEALLOCATE MyCursor</P>
<P>end</P>
<P>exec Sysxsxx</P></body>
</html>
