<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>ajax</title>
<meta name="GENERATOR" content="WinCHM">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style>
html,body { 
	/* Default Font */
	font-family: Arial, Helvetica, sans-serif;
	font-size: 11pt;
}
</style>

</head>

<body>
<P>1.发送请求,</P>
<P>$.post('${pageContext.request.contextPath}/user_editpassword.action',{"password: 
newpassword"},function(data){} );</P>
<P>1)$.post():发送请求</P>
<P>2）pageContext.request.contextPath:获取地址</P>
<P>3）user_editpassword.action：user为action.xml中配置的name属性，editpassword为actionn层中的业务方法</P>
<P>4)function(data){} :回调函数接收返回值成功还是失败</P>
<P> 2.修改密码</P>
<P> 1)获取用户登入信息</P>
<P>User loginuser 
=ServletActionContext.getRequest.getSession.getAttribute("user");</P>
<P>user.setid(loginuser.getid());//获取用户id</P>
<P>2）调用services层方法，返回结果</P>
<P>&nbsp; 
userService.editpassword(user);//调用services层接口方法<BR>&nbsp;&nbsp;&nbsp;Map&lt;String, Object&gt; 
map =new HashMap&lt;String, Object&gt;();//map集合<BR>&nbsp;&nbsp;&nbsp;map.put("result", 
"success");<BR>&nbsp;&nbsp;&nbsp;map.put("mag", 
"修改密码成功");<BR>&nbsp;&nbsp;&nbsp;ActionContext.getContext().put("map", map);//将信息存入map</P>
<P> &nbsp;</P></body>
</html>
