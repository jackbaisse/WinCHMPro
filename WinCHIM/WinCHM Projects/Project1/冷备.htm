<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>冷备</title>
<meta name="GENERATOR" content="WinCHM">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style>
html,body { 
	/* Default Font */
	font-family: Arial, Helvetica, sans-serif;
	font-size: 11pt;
}
</style>

</head>

<body>
<P>--徐亮亮生成，没有恢复前请不要删除原来的数据，以防止恢复失败<BR>--此方案可操作系统不一致，但oracle版本需要一致；<BR>--尽量保持安装目录、操作系统一致。<BR>1.如果原来oracle还能启动，则执行如下命令：<BR>&nbsp; alter database backup controlfile to 
trace as 'd:/createctl.sql';<BR>2.关闭原来的数据库 shutdown 
immediate<BR>3.拷贝出D:\app\Administrator\oradata\TESTDB下的所有文件。除了CONTROL01.CTL和CONTROL02.CTL文件。<BR>4.在目标服务器上安装oracle,安装实例名相同的数据库，测试可以连接后，shutdown 
immediate 
关闭数据库。删除D:\app\Administrator\oradata\TESTDB下的所有文件。<BR>5.将拷贝的数据文件和redo文件全部拷贝到4的目录下面。<BR>6.cmd中执行 
set oracle_sid=testdb;&nbsp; testdb为数据库名。<BR>&nbsp;&nbsp; sqlplus / as 
sysdba&nbsp; 连接数据库<BR> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
执行sql重建控制文件，看是否生成CONTROL01.CTL和CONTROL02.CTL文件。<BR>7 
重启数据库&nbsp; shutdown&nbsp; immediate; startup;&nbsp;&nbsp;&nbsp; Ok</P>
<P><BR>--如果原来数据库挂了则无法通过1生成createctl.sql;则需要手动创建（尽量不要）<BR> 
  createctl.sql中的内容如下： 需要修改TESTDB&nbsp; 以及数据文件的位置位置等。</P>
<P>RECOVER DATABASE<BR>ALTER SYSTEM ARCHIVE LOG ALL;<BR>ALTER DATABASE 
OPEN;</P></body>
</html>
